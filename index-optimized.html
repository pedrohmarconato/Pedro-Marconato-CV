<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Company Selection - Optimized</title>
    
    <!-- Preload critical fonts for faster loading -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"></noscript>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            height: 100vh;
            overflow: hidden;
            position: relative;
            padding: 20px;
            background: linear-gradient(135deg, #061c32 0%, #031b2f 15%, #052a46 30%, #012d4e 45%, #083b62 60%, #07508b 75%, #0560a9 90%, #061c32 100%);
        }

        /* Optimized animated background - reduced complexity */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #061c32 0%, #031b2f 25%, #052a46 50%, #083b62 75%, #0560a9 100%);
            z-index: -2;
            /* Removed heavy animation for performance */
        }

        /* Simplified floating shapes - only one shape with reduced animation */
        .shape {
            position: absolute;
            opacity: 0.08;
            /* Reduced animation frequency and removed complex transforms */
            animation: simpleFloat 15s infinite ease-in-out;
        }

        .shape:nth-child(1) {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            top: 15%;
            left: 15%;
            animation-delay: 0s;
        }

        /* Simplified float animation */
        @keyframes simpleFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        /* Optimized glassmorphism container */
        .container {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 252, 255, 0.98) 100%);
            /* Reduced backdrop filter complexity */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 30px 35px;
            border-radius: 24px;
            /* Simplified box-shadow */
            box-shadow: 0 10px 25px rgba(6, 28, 50, 0.2);
            border: 1px solid rgba(190, 226, 240, 0.5);
            position: relative;
            z-index: 999;
            width: 75%;
            max-width: 360px;
            max-height: calc(100vh - 40px);
            /* Simplified transform */
            transform: translateY(0);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            margin: auto;
            overflow: visible;
        }

        /* Removed complex ::before animation */
        .container:hover {
            transform: translateY(-2px);
        }

        .profile-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-shrink: 0;
            position: relative;
        }

        .profile-img {
            width: 110px;
            height: 110px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid transparent;
            background: linear-gradient(white, white) padding-box,
                        linear-gradient(135deg, #0560a9, #083b62) border-box;
            /* Simplified box-shadow */
            box-shadow: 0 4px 16px rgba(5, 96, 169, 0.3);
            transition: transform 0.3s ease;
            margin-top: -45px;
            z-index: 1001;
        }

        .profile-img:hover {
            transform: scale(1.03);
        }

        h1 {
            background: linear-gradient(135deg, #061c32 0%, #07508b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 6px;
            font-size: 30px;
            font-weight: 700;
            letter-spacing: -0.5px;
            text-align: center;
        }

        .subtitle {
            color: #052a46;
            font-size: 15px;
            margin-bottom: 0;
            font-weight: 500;
            text-align: center;
            line-height: 1.3;
        }

        .label-wrapper {
            margin-bottom: 18px;
            text-align: center;
        }

        label {
            display: block;
            font-size: 15px;
            font-weight: 500;
            color: #031b2f;
            line-height: 1.3;
            margin-bottom: 4px;
        }

        .label-pt {
            display: block;
            font-size: 12px;
            font-weight: 400;
            color: #083b62;
            font-style: italic;
            opacity: 0.65;
        }

        .input-wrapper {
            position: relative;
            margin-bottom: 20px;
        }

        .input-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            opacity: 0.5;
            pointer-events: none;
        }

        input[type="text"] {
            width: 100%;
            padding: 16px 16px 16px 44px;
            border: 2px solid transparent;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 400;
            color: #031b2f;
            background: linear-gradient(white, white) padding-box,
                        linear-gradient(135deg, #bee2f0, #0560a9) border-box;
            transition: all 0.3s ease;
            outline: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        input[type="text"]:focus {
            background: linear-gradient(#f8fbfd, #f8fbfd) padding-box,
                        linear-gradient(135deg, #0560a9, #083b62) border-box;
            box-shadow: 0 0 0 3px rgba(5, 96, 169, 0.15);
            transform: translateY(-1px);
        }

        input[type="text"]::placeholder {
            color: #9ca3af;
        }

        button {
            width: 100%;
            padding: 14px 20px 16px 20px;
            background: linear-gradient(135deg, #07508b 0%, #0560a9 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: visible;
            letter-spacing: 0.2px;
            box-shadow: 0 4px 15px rgba(7, 80, 139, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
            min-height: 56px;
            justify-content: center;
            line-height: 1.3;
        }

        .button-text-pt {
            font-size: 12px;
            font-weight: 400;
            opacity: 0.95;
            line-height: 1.2;
        }

        /* Simplified button hover - removed ::before animation */
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(7, 80, 139, 0.4);
            background: linear-gradient(135deg, #083b62 0%, #0163a8 100%);
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(7, 80, 139, 0.3);
        }

        .disclaimer-wrapper {
            margin-top: 15px;
            padding: 12px;
            background: linear-gradient(135deg, rgba(190, 226, 240, 0.4), rgba(190, 226, 240, 0.25));
            border-radius: 12px;
            border: 1px solid rgba(190, 226, 240, 0.6);
            backdrop-filter: blur(5px);
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
        }

        /* Removed heavy shimmer animation */

        .disclaimer-text {
            font-size: 11px;
            color: #031b2f;
            line-height: 1.4;
            text-align: center;
            margin: 0;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }

        .disclaimer-text strong {
            color: #061c32;
            font-weight: 600;
        }

        .disclaimer-text-pt {
            font-size: 10px;
            color: #052a46;
            font-style: italic;
            display: block;
            margin-top: 2px;
            font-weight: 400;
        }

        .skip-company-wrapper {
            margin: 15px 0;
            text-align: center;
        }

        .skip-company-link {
            display: inline-block;
            font-size: 13px;
            color: #0784c7;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 16px;
            border-radius: 8px;
            background: rgba(7, 132, 199, 0.05);
            border: 1px solid rgba(7, 132, 199, 0.2);
        }

        .skip-company-link:hover {
            color: #0563a3;
            background: rgba(7, 132, 199, 0.1);
            border-color: rgba(7, 132, 199, 0.3);
            transform: translateY(-1px);
        }

        .skip-text-pt {
            font-size: 12px;
            color: #0563a3;
            font-style: italic;
            display: block;
            margin-top: 2px;
            font-weight: 400;
        }

        .skip-text-en {
            display: block;
        }

        .loading {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Optimized door animation - simplified */
        .door-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 998;
            pointer-events: none;
            display: none;
        }

        .door-wrapper.active {
            display: block;
        }

        .doors {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
        }

        .door {
            flex: 1;
            height: 100%;
            background: linear-gradient(135deg, #061c32 0%, #052a46 50%, #0560a9 100%);
            transition: transform 1.5s ease;
            position: relative;
        }

        .door.left {
            transform-origin: left center;
        }

        .door.right {
            transform-origin: right center;
        }

        .door-wrapper.opening .door.left {
            transform: translateX(-100%);
        }

        .door-wrapper.opening .door.right {
            transform: translateX(100%);
        }

        .container.door-handle {
            transition: transform 1.5s ease;
        }

        .door-wrapper.opening ~ .container.door-handle {
            transform: translateX(calc(100vw + 50%));
        }

        .target-frame {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            z-index: 1;
            opacity: 1;
            pointer-events: auto;
        }

        /* Responsive optimizations */
        @media (max-width: 480px) {
            body {
                padding: 15px;
            }

            .container {
                padding: 25px;
                width: 85%;
                max-width: none;
            }

            .profile-img {
                width: 90px;
                height: 90px;
                margin-top: -35px;
            }
            
            h1 {
                font-size: 26px;
            }
            
            .subtitle {
                font-size: 14px;
            }
        }

        /* Performance optimization: Reduce animations on low-end devices */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
    <!-- Favicon Meta Tags -->
    <meta name="theme-color" content="#1a4b84">
    <meta name="msapplication-TileColor" content="#1a4b84">
    <meta name="msapplication-config" content="assets/favicons/browserconfig.xml">
</head>
<body>
    <div class="animated-bg"></div>
    
    <!-- Hidden iframe for target page -->
    <iframe class="target-frame" id="targetFrame"></iframe>
    
    <!-- Simplified door animation wrapper -->
    <div class="door-wrapper" id="doorWrapper">
        <div class="doors">
            <div class="door left"></div>
            <div class="door right"></div>
        </div>
    </div>
    
    <!-- Reduced floating shapes -->
    <div class="shape"></div>
    
    <div class="container door-handle">
        <div class="profile-section">
            <img src="assets/images/Pedro.jfif" alt="Pedro Marconato" class="profile-img" loading="lazy">
            <h1>Welcome!</h1>
            <p class="subtitle">Pedro Marconato</p>
        </div>
        
        <div class="label-wrapper">
            <label for="companyName">Which company do you work for?</label>
            <span class="label-pt">Em qual empresa você trabalha?</span>
        </div>
        
        <div class="input-wrapper">
            <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
            </svg>
            <input type="text" id="companyName" name="companyName" placeholder="Enter company name" autocomplete="off">
        </div>
        
        <button onclick="checkCompany()">
            <span id="buttonText">Access Resume</span>
            <span id="buttonTextPt" class="button-text-pt">Acessar Currículo</span>
            <div class="loading" id="loading"></div>
        </button>
        
        <div class="skip-company-wrapper">
            <a href="templates/companies/general.html" class="skip-company-link">
                <span class="skip-text-en">Enter without company info</span>
                <span class="skip-text-pt">Entrar sem informar empresa</span>
            </a>
        </div>
        
        <div class="disclaimer-wrapper">
            <p class="disclaimer-text">
                <strong>🔒 Privacy guaranteed:</strong> Information is used only to personalize your resume and is not stored.
                <span class="disclaimer-text-pt">As informações são usadas apenas para personalizar seu currículo e não são armazenadas.</span>
            </p>
        </div>
    </div>

    <script>
        const companyInput = document.getElementById('companyName');
        const button = document.querySelector('button');
        const buttonText = document.getElementById('buttonText');
        const loading = document.getElementById('loading');

        function checkCompany() {
            const companyName = companyInput.value.trim().toLowerCase();
            
            if (!companyName) {
                // Simplified shake animation
                companyInput.style.animation = 'shake 0.3s';
                setTimeout(() => {
                    companyInput.style.animation = '';
                }, 300);
                return;
            }
            
            // Show loading state
            buttonText.style.display = 'none';
            document.getElementById('buttonTextPt').style.display = 'none';
            loading.style.display = 'block';
            button.disabled = true;
            
            // Company mappings
            const companyMappings = {
                'templates/companies/ifood.html': ['ifood', 'i food', 'if'],
                'templates/companies/rdstation.html': ['rd', 'rdstation', 'rds', 'rd station'],
                'templates/companies/sicredi.html': ['sicredi', 'sic', 'sicred'],
                'templates/companies/boticario.html': ['boticario', 'gb', 'grupoboticario', 'grupo boticario', 'grupo boticário', 'grupoboticário'],
                'templates/companies/completebari.html': ['completebari', 'complete bari', 'bari', 'cb', 'complete'],
                'templates/companies/allos.html': ['allos', 'allo', 'all', 'consultoria', 'consulting'],
                'templates/companies/contaazul.html': ['contazul', 'contaazul', 'ca', 'azulconta', 'azul']
            };
            
            // Find matching target
            let target = 'templates/companies/general.html';
            for (const [page, keywords] of Object.entries(companyMappings)) {
                if (keywords.includes(companyName)) {
                    target = page;
                    break;
                }
            }
            
            // Optimized page transition - removed complex sand animation
            const doorWrapper = document.getElementById('doorWrapper');
            const targetFrame = document.getElementById('targetFrame');
            
            // Activate simplified door animation
            doorWrapper.classList.add('active');
            
            // Preload target page
            targetFrame.src = target;
            
            // Hide background elements
            document.querySelector('.animated-bg').style.display = 'none';
            document.querySelectorAll('.shape').forEach(shape => shape.style.display = 'none');
            
            // Start door opening with optimized timing
            setTimeout(() => {
                doorWrapper.classList.add('opening');
            }, 300);
        }

        // Optimized input handling
        companyInput.addEventListener('input', function() {
            const value = this.value.toLowerCase().replace(/[^a-z0-9 ]/g, '');
            this.value = value;
        });

        // Allow Enter key to submit
        companyInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                checkCompany();
            }
        });

        // Simplified shake animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                25%, 75% { transform: translateX(-3px); }
                50% { transform: translateX(3px); }
            }
        `;
        document.head.appendChild(style);

        // Performance monitoring
        if ('performance' in window) {
            window.addEventListener('load', () => {
                setTimeout(() => {
                    const perfData = performance.getEntriesByType('navigation')[0];
                    console.log('Page load time:', perfData.loadEventEnd - perfData.loadEventStart, 'ms');
                }, 0);
            });
        }
    </script>
    <!-- Dynamic Favicon System -->
    <script src="assets/js/dynamic-favicon.js"></script>
</body>
</html>